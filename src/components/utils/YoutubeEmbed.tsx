//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
//              COMPONENTS > UTILS > YOUTUBE-EMBED.TSX
//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
//                       IMPORTS
//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
import { FunctionComponent, Fragment } from 'react';
//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞

type YouTubeEmbedProps = {
  videoId: string; // The YouTube video ID (required)
  autoplay?: boolean; // Whether to autoplay the video
  loop?: boolean; // Whether to loop the video
  muted?: boolean; // Whether to mute the video on autoplay
  className?: string; // Custom className for the iframe
  title?: string; // Title attribute for accessibility
};
//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞

export const YoutubeEmbed: FunctionComponent<YouTubeEmbedProps> = ({
  videoId,
  autoplay = false,
  loop = false,
  muted = false,
  className = '',
  title = 'YouTube Video',
}) => {
  // ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
  if (!videoId) return <p>Error: Video ID is missing!</p>;

  // Construct embed URL with autoplay, mute, and loop parameters
  const embedUrl = new URL(`https://www.youtube.com/embed/${videoId}`);
  embedUrl.searchParams.set('autoplay', autoplay ? '1' : '0');
  embedUrl.searchParams.set('mute', muted ? '1' : '0');
  embedUrl.searchParams.set('loop', loop ? '1' : '0');
  if (loop) embedUrl.searchParams.set('playlist', videoId);
  embedUrl.searchParams.set('rel', '0'); // Prevents showing related videos
  embedUrl.searchParams.set('modestbranding', '1'); // Minimal branding
  // ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
  return (
    <Fragment>
      {/*  ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞  */}
      <div className='relative w-full'>
        <iframe
          className={`h-56 w-full rounded-lg shadow-lg tablet:h-96 desktop:h-[28rem] ${className}`}
          src={embedUrl.toString()}
          title={title}
          allow='autoplay; encrypted-media; picture-in-picture'
          allowFullScreen
        />
      </div>
      {/*  ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞  */}
    </Fragment>
  );
};
//⚫️ ∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞∞
